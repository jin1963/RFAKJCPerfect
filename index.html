<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>KJC Referral & Staking DApp</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
  <script type="module" src="js/app.js"></script>
</head>
<body>
  <div class="container">
    <h1>🎁 KJC Referral & Auto Staking</h1>

    <!-- Connect Wallet -->
    <button onclick="connectWallet()">🔗 เชื่อมต่อกระเป๋า</button>
    <p id="walletAddress" class="status-message">❌ ยังไม่เชื่อมต่อกระเป๋า</p>

    <hr/>

    <!-- สมัคร Referrer -->
    <h2>📝 สมัคร Referrer</h2>
    <label>✉️ Address ของผู้นำแนะนำ:</label>
    <input type="text" id="refAddress" placeholder="0x...">
    <button onclick="registerReferrer()">📌 สมัคร Referrer</button>
    <p id="registerStatus" class="status-message"></p>

    <!-- ลิงก์แนะนำ -->
    <label>📨 ลิงก์แนะนำของคุณ:</label>
    <div style="display:flex; gap:8px;">
      <input type="text" id="refLink" readonly style="flex:1;">
      <button onclick="copyRefLink()">📋 คัดลอก</button>
    </div>
    <small id="refHint" class="muted">เชื่อมกระเป๋าเพื่อสร้างลิงก์อัตโนมัติ</small>

    <hr/>

    <!-- Buy & Stake -->
    <h2>🛒 ซื้อ & Stake</h2>
    <label>💸 จำนวน USDT ที่จะใช้ซื้อ:</label>
    <input type="number" step="0.01" id="usdtAmount" value="10">
    <button onclick="buyAndStake()">🧩 ซื้อ KJC และ Stake</button>
    <p id="buyTokenStatus" class="status-message"></p>

    <hr/>

    <!-- Staking -->
    <h2>📊 ข้อมูล Staking ของคุณ</h2>
    <p id="yourStake">💰 Your Stake: 0 KJC</p>
    <p id="yourStakingReward">🎉 Claimable Stake Reward: 0 KJC</p>
    <button onclick="claimStakingReward()">🎁 เคลมรางวัลจากการ Stake</button>
    <p id="claimStakeStatus" class="status-message"></p>

    <hr/>

    <!-- Referral -->
    <h2>🤝 Referral Rewards</h2>
    <p id="yourReferralReward">👥 Claimable Referral Reward: 0 KJC</p>
    <button onclick="claimReferralReward()">💰 เคลมรางวัลจาก Referral</button>
    <p id="referralClaimStatus" class="status-message"></p>
  </div>
</body>
</html>
